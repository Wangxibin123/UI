/* CustomStepNode.module.css */
.nodeBase {
  padding: 10px 15px;
  border-radius: 8px; /* 稍微调整圆角以匹配更现代的风格 */
  background-color: var(--color-white, #ffffff);
  border: 2px solid var(--color-border-neutral, #ccc);
  min-width: 150px; /* 给予更多空间 */
  text-align: center;
  font-size: var(--font-size-small, 13px);
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  display: flex;
  flex-direction: column; /* 允许图标和文本垂直排列 */
  align-items: center;
  justify-content: center;
  gap: 5px; /* 图标和文本之间的间距 */
}

.nodeLabel {
  font-weight: 500;
}

/* 状态样式 */
.verifiedCorrect {
  border-color: var(--color-success-dark, #4CAF50);
  background-color: var(--color-success-light, #E8F5E9);
}

.verifiedIncorrect {
  border-color: var(--color-error-dark, #F44336);
  background-color: var(--color-error-light, #FFEBEE);
}

.notVerified {
  border-color: var(--color-warning-dark, #FFC107);
  background-color: var(--color-warning-light, #FFF8E1);
}

.verifying {
  border-color: var(--color-info-dark, #2196F3);
  background-color: var(--color-info-light, #E3F2FD);
  /* 可以添加一个细微的动画效果来表示正在验证 */
}

/* 可选：为图标本身添加一些通用样式 */
.statusIcon {
  font-size: 16px; /* 或者根据 lucide-react 图标的 size prop 调整 */
}

/* 针对特定状态图标的颜色，确保对比度 */
.iconCorrect {
  color: var(--color-success-dark, #4CAF50);
}

.iconIncorrect {
  color: var(--color-error-dark, #F44336);
}

.iconNotVerified {
  color: var(--color-warning-dark, #FFC107);
}

.iconVerifying {
  color: var(--color-info-dark, #2196F3);
}

.deletedNode {
  opacity: 0.5;
  border-style: dashed;
  border-color: var(--color-border-neutral-light, #e0e0e0); /* Softer border for deleted items */
  background-color: var(--color-background-disabled, #f5f5f5); /* Lighter background for deleted items */
}

.customNode {
  padding: 10px 15px;
  border: 1px solid #9e9e9e; /* Default border color */
  border-radius: 6px;
  background: white;
  min-width: 200px; /* Increased min-width slightly */
  max-width: 250px; /* Added max-width to prevent overly wide nodes */
  font-size: 13px;
  text-align: left; /* Changed to left align for better readability of content */
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.customNode.selected {
  border-color: #2196F3; /* Material blue for selection */
  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.3);
}

.customNode.correct {
  border-color: #4CAF50; /* Green border for correct */
  background-color: #E8F5E9; /* Lighter green background */
}

.customNode.incorrect {
  border-color: #F44336; /* Red border for incorrect */
  background-color: #FFEBEE; /* Lighter red background */
}

.nodeHeader {
  font-weight: 600; /* Slightly bolder */
  margin-bottom: 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  color: #333;
}

.icon {
  font-size: 16px; /* Slightly larger icon */
  margin-left: 8px; /* Space between text and icon if on same line */
}

.nodeContent {
  font-size: 12px;
  color: #555;
  margin-bottom: 8px;
  max-height: 50px; /* Limit content height */
  overflow-y: auto; /* Allow scrolling for overflow */
  word-break: break-word; /* Break long words */
  /* Styles for react-latex-next if needed, though it usually adapts well */
}

.nodeContent .katex-display {
  margin: 0.2em 0 !important; /* Reduce KaTeX default margins if too large */
  font-size: 0.95em !important; /* Adjust KaTeX font size within node */
}

.handle {
  width: 10px !important;
  height: 10px !important;
  background: #AEAEAE !important;
  border: 1px solid #777 !important;
  border-radius: 3px; /* Slightly rounded handles */
}

/* Removed empty .handle.target and .handle.source rules */

.nodeHeaderIcons {
  display: flex;
  align-items: center; /* Align items vertically */
  gap: 4px; /* Space between icons */
  position: absolute; /* Position it within the node, e.g., top right */
  top: 5px;
  right: 5px;
  /* Adjust as needed if you have other elements in the header */
}

.statusIcon {
  /* Existing styles are fine, ensure it fits with noteIndicatorIcon */
  /* Example: color might be set by specific status classes like .iconCorrect */
}

.noteIndicatorIcon {
  color: #555; /* A neutral color for the note icon */
  /* margin-left: 4px; */ /* Use gap in parent container instead if possible */
}

.noteIndicatorIcon:hover {
  color: #000;
} 

/* CustomStepNode.module.css */
/* ... 你现有的其他样式 ... */

.onNewPath {
  border: 2px solid #ff0072; /* 一个醒目的粉红色边框 */
  box-shadow: 0 0 10px #ff0072, 0 0 5px #ff0072 inset; /* 加上一些辉光效果 */
  /* 你也可以调整这里的样式，比如背景色，但注意不要与 data.highlightColor 冲突 */
  /* background-color: rgba(255, 0, 114, 0.1); */ /* 例如一个淡淡的粉色背景 */
}